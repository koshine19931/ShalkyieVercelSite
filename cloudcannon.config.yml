# CloudCannon Configuration
source: .

# 1. Define the Global Inputs (How each field should look)
_inputs:
  movie_name:
    type: text
    label: Movie Name (Display)
  title:
    type: text
    label: Title (URL Slug)
  video_url:
    type: text
    label: Video URL
  description:
    type: textarea
    label: Description
  date:
    type: datetime
    label: Publish Date
  featured:
    type: boolean
    label: Featured
  category:
    type: select
    label: Category
    options:
      values:
        - Action
        - Comedy
        - Drama
        - Horror
        - Romance
        - Thriller
        - Sci-Fi
        - Other
      allow_empty: true
  tags:
    type: list
    label: Tags

# 2. Define the Collections (Where the files are)
collections_config:
  posts:
    path: _posts
    output: true
    name: Videos
    icon: local_movies
    sort_key: date
    sort_options:
      order: desc
    # This line forces CloudCannon to use the inputs defined above
    schemas:
      default:
        path: schemas/post.md
        name: Video Post
        
  series:
    path: _series
    output: true
    name: Series
    icon: live_tv
    sort_key: date
    sort_options:
      order: desc

# 3. Build Settings
build:
  install_command: npm install
  build_command: node generate-posts.js
  output_path: .
